using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using static UnityEngine.Rendering.DebugUI;

public class InvulnerabilityHitHandler : MonoBehaviour, HitHandler
{
    [SerializeField] Hitbox hitbox;
    [SerializeField] float seconds = 1;
    public void Hit(Vector2 force, float damage = 1)
    {
        if (hitbox.Invulnerable())
        {
            Debug.LogError("Invulnerability frames called while already invulnerable");
        }
        StartCoroutine(Invulnerability(seconds));
    }

    IEnumerator Invulnerability(float seconds)
    {
        hitbox.SetInvulnerable(true);
        yield return new WaitForSeconds(seconds);
        hitbox.SetInvulnerable(false);
    }

}
